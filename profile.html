<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GAFFA ISMAIL | Final Edition</title>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root { --gold: #d4af37; --bg: #000; --border: #262626; }
        body { background: var(--bg); color: white; font-family: sans-serif; margin: 0; padding-bottom: 80px; overflow-x: hidden; }
        
        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        .header { display: flex; justify-content: space-between; padding: 10px 16px; align-items: center; position: sticky; top: 0; background: #000; z-index: 10; }
        
        /* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ */
        .profile-info { display: flex; align-items: center; padding: 15px 16px; gap: 20px; }
        .p-pic { width: 85px; height: 85px; border-radius: 50%; border: 2px solid var(--gold); padding: 3px; cursor: pointer; position: relative; }
        .p-pic img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; }
        .stats { display: flex; flex: 1; justify-content: space-around; text-align: center; }
        .s-num { font-weight: bold; font-size: 18px; display: block; }
        .s-txt { font-size: 12px; color: #a8a8a8; }

        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .btns { display: flex; gap: 8px; padding: 10px 16px; }
        .btn { flex: 1; background: #363636; border: none; color: white; padding: 8px; border-radius: 8px; font-weight: 600; cursor: pointer; transition: 0.3s; }
        .btn-follow.active { background: #1a1a1a; color: white; border: 1px solid #333; }
        .btn-gold { background: var(--gold); color: black; }

        /* Ø§Ù„Ø´Ø¨ÙƒØ© */
        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5px; }
        .grid-item { aspect-ratio: 1/1; background: #111; overflow: hidden; }
        .grid-item img { width: 100%; height: 100%; object-fit: cover; }

        /* Ø§Ù„Ø¨Ø§Ø± Ø§Ù„Ø³ÙÙ„ÙŠ */
        .nav { position: fixed; bottom: 0; width: 100%; display: flex; justify-content: space-around; padding: 12px 0; background: #000; border-top: 1px solid var(--border); }
        .nav i { color: #888; cursor: pointer; }

        /* Ø§Ù„Ù†ÙˆØ§ÙØ° */
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 100; }
        .modal-body { background: #262626; width: 85%; margin: 30% auto; padding: 20px; border-radius: 15px; text-align: center; }
        input[type="file"] { display: none; }
        .upload-label { display: block; background: #444; padding: 15px; border-radius: 10px; margin-bottom: 15px; cursor: pointer; }
    </style>
</head>
<body>

    <div class="header">
        <div style="font-weight:bold; font-size:18px;">gaffa_ismail <i data-lucide="chevron-down" size="14"></i></div>
        <i data-lucide="plus-square" onclick="showMod('postMod')"></i>
    </div>

    <div class="profile-info">
        <div class="p-pic" onclick="document.getElementById('profileInput').click()">
            <img src="https://via.placeholder.com/150" id="mainAvatar">
            <input type="file" id="profileInput" accept="image/*" onchange="updateProfilePic(this)">
        </div>
        <div class="stats">
            <div><span class="s-num" id="postCount">0</span><span class="s-txt">Ù…Ù†Ø´ÙˆØ±Ø§Øª</span></div>
            <div><span class="s-num" id="followerCount">850</span><span class="s-txt">Ù…ØªØ§Ø¨Ø¹ÙˆÙ†</span></div>
            <div><span class="s-num">120</span><span class="s-txt">Ø£ØªØ§Ø¨Ø¹</span></div>
        </div>
    </div>

    <div style="padding: 0 16px 15px;">
        <div style="font-weight:600;">GAFFA ISMAIL <i data-lucide="badge-check" style="fill:#0095f6; color:#000;" size="15"></i></div>
        <div style="font-size:14px; color:#ccc;">Ù…Ø¨ØªÙƒØ± Ù†Ø¸Ø§Ù… Ø§Ù„Ø°Ù‡Ø¨ Ø§Ù„Ø³Ø§Ø¦Ù„ ğŸ’</div>
    </div>

    <div class="btns">
        <button class="btn btn-gold btn-follow" id="followAction" onclick="handleFollow()">Ù…ØªØ§Ø¨Ø¹Ø©</button>
        <button class="btn" onclick="location.href='chat.html'">Ù…Ø±Ø§Ø³Ù„Ø©</button>
    </div>

    <div class="grid" id="profileGrid"></div>

    <div class="nav">
        <i data-lucide="home" onclick="location.href='feed.html'"></i>
        <i data-lucide="search" onclick="location.href='explore.html'"></i>
        <i data-lucide="plus-circle" style="color:var(--gold)" onclick="showMod('postMod')"></i>
        <i data-lucide="message-square" onclick="location.href='messages.html'"></i>
        <i data-lucide="user" style="color:white"></i>
    </div>

    <div id="postMod" class="modal">
        <div class="modal-body">
            <h3>Ù†Ø´Ø± Ø¬Ø¯ÙŠØ¯ ğŸš€</h3>
            <label class="upload-label" for="postFile">Ø§Ø®ØªØ± ØµÙˆØ±Ø© Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ</label>
            <input type="file" id="postFile" accept="image/*">
            <button class="btn btn-gold" style="width:100%" onclick="publishPost()">Ù†Ø´Ø± Ø§Ù„Ø¢Ù†</button>
            <button class="btn" style="width:100%; margin-top:10px" onclick="hideMod('postMod')">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
    </div>

    <script>
        lucide.createIcons();

        // 1. Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ÙØ¹Ø§Ù„
        let followers = 850;
        let isFollowing = false;
        function handleFollow() {
            const btn = document.getElementById('followAction');
            if (!isFollowing) {
                followers++;
                btn.innerText = "ØªÙ…Øª Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©";
                btn.classList.add('active');
            } else {
                followers--;
                btn.innerText = "Ù…ØªØ§Ø¨Ø¹Ø©";
                btn.classList.remove('active');
            }
            isFollowing = !isFollowing;
            document.getElementById('followerCount').innerText = followers;
        }

        // 2. ØªØ­Ø¯ÙŠØ« ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
        function updateProfilePic(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = e => document.getElementById('mainAvatar').src = e.target.result;
                reader.readAsDataURL(input.files[0]);
            }
        }

        // 3. ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù†Ø´Ø± ÙˆØ¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙˆØ± Ù„Ù„Ø´Ø¨ÙƒØ©
        function publishPost() {
            const fileInp = document.getElementById('postFile');
            if (fileInp.files && fileInp.files[0]) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    const div = document.createElement('div');
                    div.className = 'grid-item';
                    div.innerHTML = `<img src="${e.target.result}">`;
                    document.getElementById('profileGrid').prepend(div);
                    document.getElementById('postCount').innerText = parseInt(document.getElementById('postCount').innerText) + 1;
                    hideMod('postMod');
                };
                reader.readAsDataURL(fileInp.files[0]);
            }
        }

        function showMod(id) { document.getElementById(id).style.display = 'block'; }
        function hideMod(id) { document.getElementById(id).style.display = 'none'; }
    </script>
</body>
</html>

